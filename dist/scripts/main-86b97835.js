"use strict";var weatherApp=angular.module("weatherApp",["ngSanitize","ngRoute"]).config(["$routeProvider",function(t){t.when("/",{templateUrl:"partials/main.html",controller:"MainCtrl"}).when("/result",{templateUrl:"partials/result.html",controller:"ResultCtrl"}).otherwise({redirectTo:"/"})}]);weatherApp.controller("MainCtrl",["$scope","$location",function(t,e){t.units="metric",t.search=function(i){return i?void e.path("/result").search({q:t.city,units:t.units}):(alert("City can't be blank."),!1)}}]),weatherApp.controller("ResultCtrl",["$scope","$routeParams","$location","ForecastService",function(t,e,i,a){var n=e;t.units=n.units,t.forecast={};var r=a.get(n);r.success(function(e){t.forecast=e,t.forecast.units=n.units}),t.switchUnit=function(){a.convertUnit(t.forecast.list,t.units)},t.search=function(e){i.search({q:e,units:t.units})}}]),weatherApp.factory("ForecastService",["$http",function(t){var e="http://api.openweathermap.org/data/2.5/forecast/daily",i=function(i){return i.cnt=7,t({method:"GET",url:e,params:i})},a=function(t,e){for(var i=0;i<t.length;i++)for(var a in t[i].temp)t[i].temp[a]="imperial"===e?9*t[i].temp[a]/5+32:5*(t[i].temp[a]-32)/9;return t};return{get:i,convertUnit:a}}]),function(t){try{t=angular.module("weatherApp")}catch(e){t=angular.module("weatherApp",[])}t.run(["$templateCache",function(t){t.put("partials/main.html",'<div class="container"><div class="row"><div class="col-sm-6 col-xs-10 col-sm-offset-3 col-xs-offset-1 well"><h3>Get forecast for:</h3><div class="input-group"><input type="text" class="form-control" placeholder="search a city..." ng-model="city"><span class="input-group-btn"><button class="btn btn-default" type="button" ng-click="search(city, type)">Go!</button></span></div><hr><div class="btn-group pull-right" data-toggle="buttons"><label class="btn btn-primary" ng-class="units == \'metric\'? \'active\': \'\'"><input type="radio" name="options" ng-model="units" value="metric" id="option1" checked="">Celsius</label><label class="btn btn-primary" ng-class="units == \'imperial\'? \'active\': \'\'"><input type="radio" name="options" ng-model="units" value="imperial" id="option2">Fahrenheit</label></div></div></div></div>')}])}(),function(t){try{t=angular.module("weatherApp")}catch(e){t=angular.module("weatherApp",[])}t.run(["$templateCache",function(t){t.put("partials/result.html",'<div class="container"><div class="row"><div class="col-sm-6 col-xm-12"><h2>Week forecast for: {{ forecast.city.name }}, {{ forecast.city.country }}<div class="btn-group" data-toggle="buttons"><label class="btn btn-primary" ng-class="units == \'metric\'? \'active\': \'\'"><input type="radio" name="options" ng-model="units" ng-change="switchUnit()" value="metric" id="option1">Celsius</label><label class="btn btn-primary" ng-class="units == \'imperial\'? \'active\': \'\'"><input type="radio" name="options" ng-model="units" ng-change="switchUnit()" value="imperial" id="option2">Fahrenheit</label></div></h2></div><div class="col-sm-6 col-xm-12"><h3>Get another forecast:</h3><div class="input-group"><input type="text" class="form-control" placeholder="search a city..." ng-model="city"><span class="input-group-btn"><button class="btn btn-default" type="button" ng-click="search(city)">Go!</button></span></div></div></div><hr><div ng-repeat="c in forecast.list" class="col-md-3 weather-box"><h4 class="text-center">{{ c.dt * 1000 | date: \'EEEE, MMM d\'}}</h4><p class="text-center"><img ng-src="http://openweathermap.org/img/w/{{c.weather[0].icon}}.png"><br>{{ c.weather[0].description }}</p><h3 class="text-center"><i class="wi-thermometer-exterior"></i> <i class="wi-down"></i> {{c.temp.min|number:0}} <i ng-class="units == \'metric\' ? \'wi-celcius\' : \'wi-fahrenheit\'"></i> | <i class="wi-thermometer"></i> <i class="wi-up"></i> {{c.temp.max|number:0}} <i ng-class="units == \'metric\' ? \'wi-celcius\' : \'wi-fahrenheit\'"></i><br><small>{{(c.temp.min + c.temp.max) / 2 | number:0}}<i ng-class="units == \'metric\' ? \'wi-celcius\' : \'wi-fahrenheit\'"></i></small></h3></div></div>')}])}();